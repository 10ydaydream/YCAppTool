#### 目录介绍
- 01.Android启动流程
    - 1.1 启动流程图
    - 1.2 流程图说明
- 02.App启动流程
    - 2.1 启动流程图
    - 2.2 流程图说明
- 03.Activity启动流程
    - 3.1 启动流程图
    - 3.2 流程图说明
- 04.Window创建流程
    - 4.1 启动流程图
    - 4.2 流程图说明
- 05.Activity层级图
    - 5.1 层级图


### 01.App启动流程图
#### 1.1 启动流程图
- 具体看：方案实践，31.1图片


#### 1.2 流程图说明
- 将Android系统的启动分成八层（或者说八个大步骤）
    - 按下电源时引导芯片从代码从预定义的地方（固化在在Rom）开始执行，加载引导程序BootLoaer到RAM。
    - BootLoader程序把系统OS拉起来并运行。
    - Linux内核启动，这里面我们最关心的是init进程的启动，它是所有用户进程的鼻祖。
    - 初始化init进程，这里面最重要的是启动Zygote进程，它是所有APP 进程的鼻祖（或者说是Java进程）。
    - 初始化Zygote进程，创建运行APP所需要的服务，例如Java虚拟机、注册JNI方法以及启动SystemServer进程。
    - 初始化SystemServer进程，这里最重要的就是启动Binder线程池以及一些核心服务，比如PMS、WMS、AMS等。
    - AMS是管理Android 四大组件的核心服务，系统启动后会让AMS将系统桌面（也就是Launcher）加载出来。
    - Launcher作为所有APP 的入口，点击Launcher上的图标后就会启动APP（如果APP进程不在，会先Fork Zygote进程来创建新进程）。
- Zygote进程说明
    - Zygote进程是所有的android进程的父进程
        - 包括SystemServer和各种应用进程都是通过Zygote进程fork出来的。Zygote（孵化）进程相当于是android系统的根进程，后面所有的进程都是通过这个进程fork出来的。
    - 各个进程的先后顺序
        - init进程 --> Zygote进程 --> SystemServer进程 -->各种应用进程



### 02.App启动流程图
#### 2.1 启动流程图
- 看1.2图片


#### 2.2 流程图说明
- 大概流程如下所示
    >ActivityManagerService.startProcessLocked()
    >Process.start()
    >ActivityThread.main()
    >ActivityThread.attach()
    >ActivityManagerNative.getDefault().attachApplication()
    >ActivityManagerService.attachApplication()
- APP启动流程可以分三个阶段：
    - Launcher请求AMS阶段。
    - AMS到ApplicationThread的调用过程。
    - ActivityThread启动Activity过程。



### 03.Activity启动流程
#### 3.1 启动流程图




#### 3.2 流程图说明
- 执行启动Activity重点逻辑，大概流程如下所示
    >ActivityStackSupervisor.attachApplicationLocked()
    >ActivityStackSupervisor.realStartActivityLocked()
    >IApplicationThread.scheduleLauncherActivity()
    >ActivityThread.sendMessage()
    >ActivityThread.H.sendMessage()
    >ActivityThread.H.handleMessage()
    >ActivityThread.handleLauncherActivity()
    >ActivityThread.performLauncherActivity()
    >Instrumentation.callActivityOnCreate()
    >Activity.onCreate()
    >ActivityThread.handleResumeActivity()
    >ActivityThread.performResumeActivity()
    >Activity.performResume()
    >Instrumentation.callActivityOnResume()
    >Activity.onResume()
    >ActivityManagerNative.getDefault().activityResumed(token)


### 04.Window创建流程
#### 4.1 启动流程图


#### 4.2 流程图说明


### 05.Activity层级图
#### 5.1 层级图
- 看 1.5 图片 










